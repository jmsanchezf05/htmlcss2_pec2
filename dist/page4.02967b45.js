!function(){function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var n,a,r,l,o,i,d,s=-1,c=[],u=[],m=function(){"use strict";function n(t,a,r,l){e(this,n),this.nombre=t,this.apellidos=a,this.butacas=r,this.fecha=l}var a,r,l;return a=n,(r=[{key:"getNombre",value:function(){return this.nombre}},{key:"getApellidos",value:function(){return this.apellidos}},{key:"getAsientos",value:function(){return this.butacas}},{key:"getFecha",value:function(){return this.fecha}},{key:"getAll",value:function(){return"{ nombre:"+this.nombre+" apellidos:"+this.apellidos+" butaca:"+this.butacas+"}"}}])&&t(a.prototype,r),l&&t(a,l),n}(),v=function(e){var t=e.target;t.classList.toggle("seleccionado");var n=t.getAttribute("num");n!=c[c.length-1]?(s=n,c.push(n)):(s=-1,c.pop())},p=function(){var e=n.value;return/^.{3,15}$/.test(e)?(a.innerHTML="OK",a.classList.add("ok"),a.classList.remove("fail"),!0):(a.innerHTML="Debe cumplir una longitud de entre 3 y 15 caracteres",a.classList.add("fail"),a.classList.remove("ok"),!1)},h=function(){var e=r.value;return/^.{3,35}$/.test(e)?(l.innerHTML="OK",l.classList.add("ok"),l.classList.remove("fail"),!0):(l.classList.add("fail"),l.classList.remove("ok"),l.innerHTML="Debe cumplir una longitud de entre 3 y 35 caracteres",!1)},f=function(){var e=!1;return""!==o.value?(i.classList.add("ok"),i.classList.remove("fail"),i.innerHTML="OK",e=!0):(i.classList.add("fail"),i.classList.remove("ok"),i.innerHTML="Debe elegir una fecha"),console.log("fecha",e),e},g=function(e){if(p()&&h()&&(a=!1,c.length>0&&(a=!0),a)&&f()&&function(){var e=!1;return 1==d.checked&&(e=!0),e}()){alert("Su reserva se ha realizado correctamente");var t=new m(n.value,r.value,c,o.value);u.push(t),s.className+="reservado",b(t)}else alert("Su reserva no se ha podido realizar. Compruebe los datos.");var a},b=function(e){var t=document.getElementById("datos");t.innerHTML="";var n=document.createElement("div");n.classList.add("datosDeReserva");var a=document.createElement("p"),r=document.createTextNode("DATOS DE LA RESERVA");a.classList.add("tituloReserva"),a.appendChild(r),n.appendChild(a);var l=document.createElement("p"),o=document.createTextNode("Nombre: "+e.getNombre());l.appendChild(o),n.appendChild(l);var i=document.createElement("p"),d=document.createTextNode("Apellidos: "+e.getApellidos());i.appendChild(d),n.appendChild(i);var s=e.getAsientos();if(null!=s){for(var c=document.createElement("p"),u="",m=0;m<s.length;m++)u+=s[m]+" , ";var v=document.createTextNode("Asiento: "+u);c.appendChild(v),n.appendChild(c)}var p=document.createElement("p"),h=document.createTextNode("Fecha: "+e.getFecha());p.appendChild(h),n.appendChild(p),t.appendChild(n)};window.onload=function(){document.getElementById("boton").addEventListener("click",g);var e=document.getElementsByClassName("butaca"),t=!0,s=!1,c=void 0;try{for(var u,m=e[Symbol.iterator]();!(t=(u=m.next()).done);t=!0){u.value.addEventListener("click",v)}}catch(e){s=!0,c=e}finally{try{t||null==m.return||m.return()}finally{if(s)throw c}}(n=document.getElementById("nombre")).addEventListener("blur",p),(r=document.getElementById("apellidos")).addEventListener("blur",h),a=document.getElementById("nombreError"),l=document.getElementById("apellidosError"),(o=document.getElementById("fecha")).addEventListener("blur",f),i=document.getElementById("fechaError"),d=document.getElementById("check")}}();
let e,t,n,a,s,l,d,o,r=-1,c=[],i=[];class u{getNombre(){return this.nombre}getApellidos(){return this.apellidos}getAsientos(){return this.butacas}getFecha(){return this.fecha}getAll(){return"{ nombre:"+this.nombre+" apellidos:"+this.apellidos+" butaca:"+this.butacas+"}"}constructor(e,t,n,a){this.nombre=e,this.apellidos=t,this.butacas=n,this.fecha=a}}const m=e=>{const t=e.target;t.classList.toggle("seleccionado");const n=t.getAttribute("num");n!=c[c.length-1]?(r=n,c.push(n)):(r=-1,c.pop())},p=()=>{const n=e.value;return/^.{3,15}$/.test(n)?(t.innerHTML="OK",t.classList.add("ok"),t.classList.remove("fail"),!0):(t.innerHTML="Debe cumplir una longitud de entre 3 y 15 caracteres",t.classList.add("fail"),t.classList.remove("ok"),!1)},h=()=>{const e=n.value;return/^.{3,35}$/.test(e)?(a.innerHTML="OK",a.classList.add("ok"),a.classList.remove("fail"),!0):(a.classList.add("fail"),a.classList.remove("ok"),a.innerHTML="Debe cumplir una longitud de entre 3 y 35 caracteres",!1)},g=()=>{const e=!1;return""!==s.value?(l.classList.add("ok"),l.classList.remove("fail"),l.innerHTML="OK",e=!0):(l.classList.add("fail"),l.classList.remove("ok"),l.innerHTML="Debe elegir una fecha"),e},L=t=>{if(p()&&h()&&(()=>{const e=!1;return c.length>0&&(e=!0),e})()&&g()&&(()=>{const e=!1;return 1==d.checked&&(e=!0),e})()){alert("Su reserva se ha realizado correctamente");const t=new u(e.value,n.value,c,s.value);i.push(t),r.className+="reservado",E(t)}else alert("Su reserva no se ha podido realizar. Compruebe los datos.")},E=e=>{const t=document.getElementById("datos");t.innerHTML="";let n=document.createElement("div");n.classList.add("datosDeReserva");let a=document.createElement("p"),s=document.createTextNode("DATOS DE LA RESERVA");a.classList.add("tituloReserva"),a.appendChild(s),n.appendChild(a);let l=document.createElement("p"),d=document.createTextNode("Nombre: "+e.getNombre());l.appendChild(d),n.appendChild(l);let o=document.createElement("p"),r=document.createTextNode("Apellidos: "+e.getApellidos());o.appendChild(r),n.appendChild(o);const c=e.getAsientos();if(null!=c){let e=document.createElement("p"),t="";for(let e=0;e<c.length;e++)t+=c[e]+" , ";let a=document.createTextNode("Asiento: "+t);e.appendChild(a),n.appendChild(e)}let i=document.createElement("p"),u=document.createTextNode("Fecha: "+e.getFecha());i.appendChild(u),n.appendChild(i),t.appendChild(n)};window.onload=function(){o=document.getElementById("boton"),o.addEventListener("click",L);let r=document.getElementsByClassName("butaca");for(let e of r)e.addEventListener("click",m);e=document.getElementById("nombre"),e.addEventListener("blur",p),n=document.getElementById("apellidos"),n.addEventListener("blur",h),t=document.getElementById("nombreError"),a=document.getElementById("apellidosError"),s=document.getElementById("fecha"),s.addEventListener("blur",g),l=document.getElementById("fechaError"),d=document.getElementById("check")};
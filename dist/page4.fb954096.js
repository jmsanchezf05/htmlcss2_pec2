let e,t,s,a,l,n=!1,o=-1,r=[];class c{setButaca(e){this.butaca=e}getAll(){return"{ nombre:"+this.nombre+" apellidos:"+this.apellidos+" butaca:"+this.butaca+"}"}constructor(e,t,s){this.nombre=e,this.apellidos=t,this.butaca=s}}const i=e=>{const t=e.target;t.classList.toggle("seleccionado"),-1===o?(o=t.getAttribute("num"),n=!0):(o=-1,n=!1),console.log("elemento lista:",t.classList,"asiento"+o)},d=()=>{const s=e.value;return/^.{3,15}$/.test(s)?(t.innerHTML="OK",t.classList.toogle("ok"),!0):(t.innerHTML="Debe cumplir una longitud de entre 3 y 15 caracteres",t.classList.toogle("fail"),!1)},u=()=>{const e=s.value;return/^.{3,35}$/.test(e)?(a.innerHTML="OK",!0):(a.innerHTML="Debe cumplir una longitud de entre 3 y 35 caracteres",!1)},m=t=>{if(d()&&u()&&n){alert("Su reserva se ha realizado correctamente");const t=new c(e.value,s.value,o);r.push(t),o.className+="reservado",console.log("reserva OK",t.getAll()),console.log(" Reservas actuales:",r)}else alert("Su reserva no se ha podido realizar. Compruebe los datos.")};window.onload=function(){l=document.getElementById("boton"),l.addEventListener("click",m);let n=document.getElementsByClassName("butaca");for(let e of n)e.addEventListener("click",i);e=document.getElementById("nombre"),e.addEventListener("blur",d),s=document.getElementById("apellidos"),s.addEventListener("blur",u),t=document.getElementById("nombreError"),a=document.getElementById("apellidosError")};